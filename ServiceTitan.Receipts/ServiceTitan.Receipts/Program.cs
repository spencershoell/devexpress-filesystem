// See https://aka.ms/new-console-template for more information
using Newtonsoft.Json;
using System.Net;
using System.Text;

Console.WriteLine("Hello, World!");

var authUri = new Uri("https://go.servicetitan.com/app/api/inventory/receipts/create-or-update");

var cookies = new CookieContainer();
cookies.Add(new Cookie(".AspNetCore.AUTH", "chunks-2", "/", "go.servicetitan.com"));
cookies.Add(new Cookie(".AspNetCore.AUTHC1", "CfDJ8GnXXXVwUvlPuBNRf5VXJYg_91QxDOpcfSJajgtazaKgxkFlqYRWCZrsRHfYmpBxITbDrRi7pGMaC2ZfYAgI_4lIqyfiWRTyk3rYKTGDPbisfcTLGTpVS0q2_X8LJGbKlIVVQO6hcaD_qpSYl64Q9pA123Hizx-RMGc1zye7uVk-7emRqKvZ7DrUpsxTaAL-G7cp3lmzGfOrkqb9gI8ozSsS1_rWmdM8HLplGO25XrO_41O7y7_VgAFigF4ZgOKnJzsgVin5BG-mOdkvttTWTi9KkVaBJKaMiB6hanQ-pRzmn6Gnh9q-dT9-e3XxTO0JMCYJ0-8LR3SZ3oZdpHxv5QxRIUTlQyUGph_mSaPp817UuVJHGxjLeSUzAWm2hzn24P4vWSp2Mv7Jmx6IypFkOEcoGkUW80ybIO2jgPozWG3aXaXV1_Jqx1zghWxzdIfSzZTxd4a1yQP82WNsDqfeyGTxORGBl03rIgNgPSo1S1vCS2o1CH95kgs6Z_rqHMbS9iOp4-hJCOvQ81GX92pIVtLMisNNtLc_YpoynKN2nL6Ya7eXiTxyCrzz-HLdu9wyZzRZj360VLnyTeIekV_iKrR7r-k1hrpbqw8LkP25e8RI_pYABH9H5FSA3QsQlBGbAjfqX7dUih1Sse1fnxzTRwPVr6fJVI5qV5UGx5n8Hht4HS3Ix0y-WpMvDLWAihLOWi4cLdbKXwSNCV8hNtYxXK4H0H-B9q23Wxm6MuTtQ2FdHNFKpbf0RfJ9FNr4nd9BxM6ma8v6pBsKB3mzRyuSul071abqW0qODfvVn-0vQ4_n4Xw_Orw_ril6Be47z_VOitsszV66V_18z6XEur7miSKocFrT9G76GtIK2zIutAOjPvlCfJnogs2RMnO4ynyZecynHavUHIeq8IfR8n6wQwDn10by7Gxb_cIGEGegDcl4SFn1recD9r4cJOXFt-lT8TepRYfvRcZCosgbLJpFu6pGedZoRhhAnxAtCzi5rHn8CSS1k6hRDhUt5cyPHyGZxFW9n3GEvAESFTNiEiU0rHOQ1Xs06wboHg34s1Rfl4U4JBKZSAgwqnQcNovzOFHFFbbe1TFLsSqbekvZFCO5p0bOcfML-j4-RYDH-sPiBeIFuv6ab1bHC693N7q2Li9yE8R0cT7lbQvqlaA6H_MSNrILyRTSk61c5Iz4Ulooltwzcebow9e_-hefSYt6KNX84_yExe-zvORhxVUV8JA55xlWLKC5eXTA9Ei9ckM8DHEHhSp85sn7XlgiY8RQKlDAUQExtO9plTbKY-v5vmmiqpYAp3Fb-Zz6QGOgtmyRjvGs4On2u7iJz3x8uUTlKSAfzE1BxOg7U3rI-DysdgIWAo5BHad7gZmPFb5k8H1SQMlqssiOZvOzWGV8FBnlnuPgc8u1rQqicfcHZ2lpIGTOw-8dXwzo0WvZOvB3vZnyNuNYFyCQw4DmBOHz3ho0SCvg9LrCq9cb90IPuS1xAXu5K8cjGA2dI0880ld3QMQhyFS7wrb4vBn-Boknrd0VqsR60_wolT1au6xRaHNtDwT-w7n7LWe_hZA0_YU6kEe9f67qbXgbYEqDJfXojTOe4wU5S8mM2_OIRjexp-BGMAkZ9OLDYddMBIGBvHf72wdjwC16MFnnH0M1uW4XF8jBTRi5esoHvM7GX9DHIi_tyKdlisSf-xjNtZqf-rNpFhLUQaIc85KB--joT-W_doAGNOPmzEl4tphtMTpMt_yg2y6Pwxrtn1RN4IACoVEnyqU0D0xerpsFhTcNXOA0Fg6jbsNN_luGhjoYbmlWW4aRlM0pDu5XmwF-8k0YM3lf9McxY-LZPtvv76mmSZ1UtoMQGl7rZIXc48gvbMRZuXe05CUQshleke_rR60CeYoSId193azlrtlGF_phHx1hwQcgiLZgI3whCZTul-ZUBnfBK7QvZvkl_z1DaNCzpnwxjJEduHTG71YfhqH5ZutR9o4jPplmdOOpd69pFxqtTSihGBXjGWOKTOzTxtmQiwQZKaN_VZPV_A3fO2z-cq5c1NnL0-HUmhCslD8GjpOx_tQRae4mP3jcSrPLiqWOHyrA4lWG9dEyPHrtmRqtLNrCC0rDSB2vkOcQuD-qkzWV0RaTZZi1Omjl5Qyw4ZYfNyYd7_nG9yWOuJ0iVlw5MHIp0C9Mx3PYtZd7bV8Is0v-OXED560jc4YLGevPV4SVTn3zNGh89S0IxPHUH_KE4S4rh351qL3c9J8_K7I4stn0jefyhNxtFo5ByHrbuUrasF-s8f2oTEdUP1TVXPOuSpLapi27nk_0XVj_FbHlOiIwNx01iKBxVGnttPHE-64pB1yWmfxxztHpcFA-tmAyQrZub8aBYpysP3srEs1bm5yN964yyjt97XfluZyACc4AglspcjP8iFXxHE3L58SJTwjeueXo8aLLP3oTYVuptepeJitGnnW1Q3Ot4xuA9LibxnrHGFH-eyb7FsiY83YHtVx45yA4Jqgf1aAEt_1cVyruEYVeamXY07XEFe5STJf0Atni_REZJTbO6FRY2lGkehNmjRxgq_X67tNywep7OgxgTraOSABLdNuMXrJC7EgXzYiQZ2ep5YAOOa5y4HL_y9w5hixiAas4B97eBBNvhQjMcFAH5aD8kP3gW6GKOgYvrpG-CNSF1jxX2sISegNu7hFk3Pt98N36MSGiuAnZqHwxpw697pofI5GxUETg3Ps0ePa6lThEMcztUBJVnVrqlGKLkVwKeHDmyQW3EsOvD9dpb9SJw4zzX0eOh0BS6M7Yc0wnJ6YW3MM5Zcu0atfTTSMm6qsZpdlERCxR1fhlxOkp0GNmU5_x4EI23FVmBm3Ly93knv3NV1RqMlEw98rCIJwrw2xCfhsrsiLjMjL7W8fdVkRa4Hxtdlrqri8ZRLGhmRI-5pLYma14YAb8yTDo5rn6i41TV6cMJsB54rWtCHC_auv3YsC2izV1sDPaLG9YmES2cD7bpcIkKitXr02X-8pK3ZCL_8r164wb_yhF7cu6HrA3fKNKLLhD1y5aFp-05jQP0q6706fBDsokn6eYme7sjUi9E1YLGxxP02yySP82Zz_X3p4lYKf-6S7kLSVLlGFYqdvIalNFpQCCX03LG9oDvQ593Tbo1rag5ZkAVOuRIv34X7QuqjwaIdZ2P8C5vQmJVpcsIyLJ7j93KrEYJG2B73BrSKC4z0Xj9736fwW7IbanoGX1tgfPn8EvalWKTnPCK0rXDVR31624wfy1oQCU5K_LXjd7bslek7rplbd9wPl3VanP9THnmLdaQ19imXwkVBNP84cUy2Ta0dUROIkJoTEV5KcqOQ42nqfTIdnuYU-9NGaUQIVLqqVcWjiARHy8oc7wkIyqxq-d033thb-zThLVBTLodqS0kf2HMpM3nuuvLxYMC5I3KuipGe3-KlIO9XB2A9eDw5NNs2xeDpLNJSrvmOwwQp6d62rpKza-5pQvroZZg7dgZXjn22Dx7qRJHHvudjxQvN-4CaULMCUZDU4lXzVQv85GS8EHplatYthFp21NWQgRXrU6xzW6wONPH2bbi4wpYwPqkB5ZXXeEu3HUzSS4fM7QOKElb5klwgX7rRnF2npY3ElJ7oN2rkBRScfEjXMvaFQMq83Nwj9K3k1rCoOQb1mDky8cKcxlLh3iAe4Aq48ZBVNrSEF2CZkfAjEIXLSIVqdWjhgsGJv6dvZANugzBH9Alxrm08mUstK_qkB9Yb0huXqfdnWnwVvEuejhIkeJgyvkrezd1mY8dRdPLTemqWQprkip7ezdwI5_NjZpNlnQIAV45jWmJY2ThyJFzwT6gsPCdzrgqmI_K6u0UkMaS61kVPAuwoWS_Khk3MsSZRM3Ktjb60z1HCB75zI6_h6yN4fMwbYTIMe8Jq7sYCqmaInJ1RuWuSyUGGRn19Yxw3tciYWy40WgouE-hf1JSEULyHg_F6Cj0f10dPU8jrJM", "/", "go.servicetitan.com"));
cookies.Add(new Cookie(".AspNetCore.AUTHC2", "wCFTVTqeYcJDOhm7bpONfwiaweT7ioKiLcs7_vwHEdZJKOtY--6VS0cH_yCTmxu8pX43vLaI6-eHm1mQ8aiPCbZwrBor5NvnTp0Rbh7hYxmmm4UyA8QYj5jXW0C-Jqpfkh3QEyAoFeSmnoaoLY1HJHy_d8nNZS-dLv28vFfgzI3_GcgVC6nJZpZTOIW4Wl2e1Zv-Chx6efrbFWVb51TcIvas7fuqOYrmiLZGJvUpIQNgfd0unkphWUdHLhZVRaFpmB8wf6IrvqvfOYoyQ4ZLQcWGgad7dFMxbWtCsFDGfieYy0twWBfXQtSLE6kJlbwkfTpmCvn_AIn3y4C7RaW13E93FD2jvnh_xpMEI3rjEG27edoQIXHyThh8dMNTuuLK4FdTdxDsHnR9yGMIQM9Blpml2VPYGut0s-4_yWQkEtm7fyh_1mDWRs8JS27VD_hHhCR3V2AElYtNeiS-lk3WgLBBlg1U1O7UMoz0HpCKQHrjKNprHgRfHzU3cQZ6XZUCnBAnEpuQtQHYmatNumUyq_H9k0Qtly7XFSUuZ0s0oyzxY9OUnJ_WmiKx155zjeQDS8EkgxP_16EKrF4x5cAHZsgREuktnEJC7OuhMXZs2fw_kZ70zihwnE2RKTnVU_aP3YZF-iKpM03xEnKkJGa1E8jCCMaEsCS7tlWWhaSLzZvWmM8pKvfNYImrknmkXR8g2zxVFdYiAqoINctBDUTspB8C5eD2lVaWvbGA4x97tW_WN49IaT8cUoGKLUxcVmgIP_crxNaMLBJmSWz4mxA3REuR8axaIvwZ8B_02l9zq5l26qEZvheswFk3kxRBk0TGm6ERRuFutPiHd3ZazEewDMth9bFsGSYbNygWhvo0k_n22kuHt0Sxib2L3xgKBZDo8fZnmBxjIf3aGG0W9XUKyk6Ghw0dwL79VyAn7dhD6Pm4MgNOUc6dst3mv2alK4eiUqUjFborTjkoQM3lgQ5XIx5I0GRYeTRz1gWBTlToWVrG8qrsnCbH0be0F6cCm6mZBnVmJ1Dpe2bwkwHn4pXjH_dJxUq1EIP7I4gx7ZDGwAjXYoCue5TlB8MbSo9_9Q6l8x2Mdx85m6_cQCI8RECfk-B0lgTGUTib8g44xAqdOtAifi-FuVqEcfKlRS8zJ78ULoUx3rIdn3XHG-hpH48NgqWuHUfQSoEcSPds42nO3ywyrzcNm2I3GTF7raMJHBTDpMvtX-jaHRohgh0857sGNPY0neVDe5fXZfwznqoRMLt9saBEaPvHmj0tsije2oyfiQ", "/", "go.servicetitan.com"));
var handler = new HttpClientHandler();
handler.CookieContainer = cookies;
handler.UseCookies = true;


var client = new HttpClient(handler);
client.DefaultRequestHeaders.Host = "go.servicetitan.com";

var request = new HttpRequestMessage(HttpMethod.Post, authUri);
request.Content = new StringContent(@"{""items"":[{""id"":-1657255314879,""skuId"":42371,""description"":""Programmable Thermostat - T6"",""purchaseOrderItemId"":5303687,""vendorPartNumber"":""1326"",""quantity"":0,""cost"":123.6585,""serialNumbers"":[]},{""id"":-1657255314880,""skuId"":43919,""description"":""Manual Bypass Humidifier"",""purchaseOrderItemId"":5303688,""vendorPartNumber"":""1842"",""quantity"":0,""cost"":139.0397,""serialNumbers"":[]},{""id"":-1657255314881,""skuId"":42176,""description"":""General HVAC Material ($300.00)"",""purchaseOrderItemId"":5303689,""vendorPartNumber"":""1261"",""quantity"":1,""cost"":450,""serialNumbers"":[]}],""id"":0,""purchaseOrderId"":5303686,""shouldRollOverUnreceivedItems"":false,""receivedOn"":""2022-07-08T04:41:55.032Z"",""vendorInvoiceNumber"":""123456"",""tax"":0,""taxSchema"":""UsingRate"",""taxRate"":0,""shipping"":0,""attachments"":[],""allowCopyingPoItems"":false,""operationId"":1657255382412}", Encoding.UTF8, "application/json");
request.Content.Headers.ContentType = new System.Net.Http.Headers.MediaTypeHeaderValue("application/json");

var authResponse = await client.SendAsync(request);


var content = await authResponse.Content.ReadAsStringAsync();

Console.WriteLine(content);